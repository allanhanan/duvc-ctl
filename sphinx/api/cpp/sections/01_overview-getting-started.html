<!DOCTYPE html>
<html lang="en" data-accent-color="violet" data-content_root="../../../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>1. Overview &amp; Getting Started - duvc-ctl v2.0.0 Documentation</title><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="2. Core API - Public Headers" href="02_core-api-public-headers.html" /><link rel="prev" title="duvc-ctl C++ API Documentation" href="../index.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=43bd62f4" />
    <link rel="stylesheet" type="text/css" href="../../../_static/shibuya.css?v=14737038" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link media="print" rel="stylesheet" type="text/css" href="../../../_static/print.css?v=20ff2c19" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="1. Overview &amp; Getting Started"/>
    <meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../../../index.html">
      
      
      <strong>duvc-ctl</strong>
    </a>
    <div class="sy-head-nav" id="head-nav">
      <nav class="sy-head-links"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials">
  <a href="https://github.com/allanhanan/duvc-ctl" aria-label="GitHub">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </a></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="head-nav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2"></span>
          <span class="hamburger_3"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading" aria-level="3"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user-guide/quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user-guide/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user-guide/migration.html">Migration</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../c/index.html">duvc-ctl C API Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">duvc-ctl C++ API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1. Overview &amp; Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_core-api-public-headers.html">2. Core API - Public Headers</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_utility-functions-helpers.html">3. Utility Functions &amp; Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_platform-abstraction-layer.html">4. Platform Abstraction Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_vendor-specific-extensions.html">5. Vendor-Specific Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_internal-implementation-details.html">6. Internal Implementation Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_property-reference-details.html">7. Property Reference &amp; Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_usage-patterns-best-practices.html">8. Usage Patterns &amp; Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_build-system-integration.html">9. Build System &amp; Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_platform-specific-information.html">10. Platform-Specific Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="11_device-support-compatibility.html">11. Device Support &amp; Compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="12_troubleshooting-debugging.html">12. Troubleshooting &amp; Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="13_examples-tutorials.html">13. Examples &amp; Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="14_contributing-extending.html">14. Contributing &amp; Extending</a></li>
<li class="toctree-l2"><a class="reference internal" href="15_faq.html">15. FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="16_appendices.html">16. Appendices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">duvc-ctl CLI Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">duvc-ctl Python Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/01_quick-start-installation.html">1. Quick Start &amp; Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/02_architecture-design-overview.html">2. Architecture &amp; Design Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/03_pythonic-api-cameracontroller-class.html">3. Pythonic API - CameraController Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/04_result-based-api-explicit-error-handling.html">4. Result-Based API - Explicit Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/05_comprehensive-type-reference.html">5. Comprehensive Type Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/06_enumeration-constant-reference.html">6. Enumeration &amp; Constant Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/07_exception-hierarchy-handling.html">7. Exception Hierarchy &amp; Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/08_convenience-functions-helpers.html">8. Convenience Functions &amp; Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/09_logging-diagnostics-callbacks.html">9. Logging, Diagnostics &amp; Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/10_vendor-specific-extensions.html">10. Vendor-Specific Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/11_building-contributing-pybind11-integration.html">11. Building, Contributing &amp; pybind11 Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/12_complete-property-reference-details.html">12. Complete Property Reference &amp; Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/13_common-patterns-recipes.html">13. Common Patterns &amp; Recipes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/14_troubleshooting-faqs.html">14. Troubleshooting &amp; FAQs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/15_advanced-architecture-special-methods.html">15. Advanced Architecture &amp; Special Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/16_architecture-decision-records.html">16. Architecture Decision Records</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python/sections/17_tutorials-getting-started.html">17. Tutorials &amp; Getting Started</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/cpp-examples.html">C++ Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/python-examples.html">Python Examples</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3></div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../../../index.html"><span itemprop="name">duvc-ctl</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">duvc-ctl C++ API Documentation</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">1. Overview &amp; Getting Started</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="overview-getting-started">
<h1>1. Overview &amp; Getting Started<a class="headerlink" href="#overview-getting-started" title="Link to this heading">¶</a></h1>
<section id="introduction">
<h2>1.1 Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>duvc-ctl is a C++ library for controlling UVC cameras on Windows through the DirectShow API. The library exposes camera properties (pan, tilt, zoom, exposure, focus) and video properties (brightness, contrast, white balance) without requiring vendor-specific drivers or SDKs.</p>
<p><strong>Supported operations:</strong></p>
<ul class="simple">
<li><p>Device enumeration and connection</p></li>
<li><p>Camera properties: pan, tilt, roll, zoom, exposure, iris, focus, scan mode, privacy, digital zoom, backlight compensation, lamp</p></li>
<li><p>Video properties: brightness, contrast, hue, saturation, sharpness, gamma, color enable, white balance, backlight compensation, gain</p></li>
<li><p>Hot-plug detection and device change notifications</p></li>
<li><p>Vendor-specific extensions (Logitech cameras supported)</p></li>
</ul>
<p><strong>Requirements:</strong></p>
<ul class="simple">
<li><p>Windows 7 SP1 or later (Windows 10/11 recommended)</p></li>
<li><p>C++17 compiler: Visual Studio 2019/2022, or MinGW-w64 with GCC 9+</p></li>
<li><p>CMake 3.16 or later</p></li>
<li><p>DirectShow (included with Windows)</p></li>
</ul>
<p><strong>DirectShow integration:</strong>
The library wraps Windows DirectShow APIs including <code class="docutils literal notranslate"><span class="pre">ICreateDevEnum</span></code> (device enumeration), <code class="docutils literal notranslate"><span class="pre">IAMCameraControl</span></code> (PTZ and camera properties), <code class="docutils literal notranslate"><span class="pre">IAMVideoProcAmp</span></code> (video properties), and <code class="docutils literal notranslate"><span class="pre">IKsPropertySet</span></code> (vendor extensions).</p>
</section>
<hr class="docutils" />
<section id="installation-setup">
<h2>1.2 Installation &amp; Setup<a class="headerlink" href="#installation-setup" title="Link to this heading">¶</a></h2>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>Compiler</strong>: Visual Studio 2019 or later, or MinGW-w64 with GCC 9+</p></li>
<li><p><strong>CMake</strong>: Version 3.16 or later</p></li>
<li><p><strong>Windows SDK</strong>: Included with Visual Studio</p></li>
<li><p><strong>Git</strong>: For cloning the repository</p></li>
</ul>
</section>
<section id="build-from-source">
<h3>Build from source<a class="headerlink" href="#build-from-source" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">git<span class="w"> </span>clone<span class="w"> </span>https://github.com/allanhanan/duvc-ctl.git
</span><span data-line="2"><span class="nb">cd</span><span class="w"> </span>duvc-ctl
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Configure</span>
</span><span data-line="5">cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-G<span class="w"> </span><span class="s2">&quot;Visual Studio 17 2022&quot;</span><span class="w"> </span>-A<span class="w"> </span>x64
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Build</span>
</span><span data-line="8">cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>--config<span class="w"> </span>Release
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Install (optional)</span>
</span><span data-line="11">cmake<span class="w"> </span>--install<span class="w"> </span>build<span class="w"> </span>--config<span class="w"> </span>Release
</span></pre></div>
</div>
</section>
<section id="cmake-configuration-options">
<h3>CMake configuration options<a class="headerlink" href="#cmake-configuration-options" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">-DDUVC_BUILD_SHARED<span class="o">=</span>ON<span class="w">   </span><span class="c1"># Build shared library (default: ON)</span>
</span><span data-line="2">-DDUVC_BUILD_STATIC<span class="o">=</span>ON<span class="w">   </span><span class="c1"># Build static library (default: ON)</span>
</span><span data-line="3">-DDUVC_BUILD_C_API<span class="o">=</span>ON<span class="w">    </span><span class="c1"># Build C API for language bindings (default: ON)</span>
</span><span data-line="4">-DDUVC_BUILD_CLI<span class="o">=</span>ON<span class="w">      </span><span class="c1"># Build command-line tool (default: ON)</span>
</span><span data-line="5">-DDUVC_BUILD_TESTS<span class="o">=</span>OFF<span class="w">   </span><span class="c1"># Build test suite (default: OFF)</span>
</span><span data-line="6">-DDUVC_BUILD_EXAMPLES<span class="o">=</span>OFF<span class="w"> </span><span class="c1"># Build examples (default: OFF)</span>
</span></pre></div>
</div>
<p><strong>Example with custom options:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-G<span class="w"> </span><span class="s2">&quot;Visual Studio 17 2022&quot;</span><span class="w"> </span>-A<span class="w"> </span>x64<span class="w"> </span><span class="se">\</span>
</span><span data-line="2"><span class="w">  </span>-DDUVC_BUILD_SHARED<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
</span><span data-line="3"><span class="w">  </span>-DDUVC_BUILD_STATIC<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
</span><span data-line="4"><span class="w">  </span>-DDUVC_BUILD_TESTS<span class="o">=</span>ON
</span></pre></div>
</div>
</section>
<section id="integration-into-your-project">
<h3>Integration into your project<a class="headerlink" href="#integration-into-your-project" title="Link to this heading">¶</a></h3>
<p><strong>CMake find_package:</strong></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nb">find_package</span><span class="p">(</span><span class="s">duvc-ctl</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
</span><span data-line="2"><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">your_target</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">duvc-ctl::duvc-ctl</span><span class="p">)</span>
</span></pre></div>
</div>
<p><strong>Manual integration:</strong></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nb">target_include_directories</span><span class="p">(</span><span class="s">your_target</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">path/to/duvc-ctl/include</span><span class="p">)</span>
</span><span data-line="2"><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">your_target</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">path/to/duvc-ctl/lib/duvc-core.lib</span><span class="p">)</span>
</span></pre></div>
</div>
<p><strong>Package managers</strong> (planned):</p>
<ul class="simple">
<li><p>vcpkg: <code class="docutils literal notranslate"><span class="pre">vcpkg</span> <span class="pre">install</span> <span class="pre">duvc-ctl</span></code></p></li>
<li><p>Conan: <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span> <span class="pre">duvc-ctl/2.0.0</span></code></p></li>
</ul>
</section>
<section id="include-headers">
<h3>Include headers<a class="headerlink" href="#include-headers" title="Link to this heading">¶</a></h3>
<p><strong>Single convenience header (recommended):</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/duvc.hpp&gt;</span>
</span></pre></div>
</div>
<p><strong>Selective headers:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/core/camera.h&gt;</span>
</span><span data-line="2"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/core/device.h&gt;</span>
</span><span data-line="3"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/core/result.h&gt;</span>
</span><span data-line="4"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/core/types.h&gt;</span>
</span></pre></div>
</div>
</section>
</section>
<section id="quick-start-examples">
<h2>1.3 Quick Start Examples<a class="headerlink" href="#quick-start-examples" title="Link to this heading">¶</a></h2>
<section id="list-devices">
<h3>List devices<a class="headerlink" href="#list-devices" title="Link to this heading">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/duvc.hpp&gt;</span>
</span><span data-line="2"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
</span><span data-line="3">
</span><span data-line="4"><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">create_platform_interface</span><span class="p">();</span>
</span><span data-line="6"><span class="w">    </span>
</span><span data-line="7"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">devices_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">platform</span><span class="o">-&gt;</span><span class="n">list_devices</span><span class="p">();</span>
</span><span data-line="8"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">devices_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="9"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Failed to list devices: &quot;</span><span class="w"> </span>
</span><span data-line="10"><span class="w">                  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">devices_result</span><span class="p">.</span><span class="n">error</span><span class="p">().</span><span class="n">description</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="11"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span data-line="12"><span class="w">    </span><span class="p">}</span>
</span><span data-line="13"><span class="w">    </span>
</span><span data-line="14"><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">devices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">devices_result</span><span class="p">.</span><span class="n">value</span><span class="p">();</span>
</span><span data-line="15"><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">wcout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Found &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">devices</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; cameras</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="16"><span class="w">    </span>
</span><span data-line="17"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">devices</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="18"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">wcout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">L</span><span class="s">&quot;  - &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">device</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">L</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="19"><span class="w">    </span><span class="p">}</span>
</span><span data-line="20"><span class="w">    </span>
</span><span data-line="21"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span data-line="22"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="read-property">
<h3>Read property<a class="headerlink" href="#read-property" title="Link to this heading">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/duvc.hpp&gt;</span>
</span><span data-line="2"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
</span><span data-line="3">
</span><span data-line="4"><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">create_platform_interface</span><span class="p">();</span>
</span><span data-line="6"><span class="w">    </span>
</span><span data-line="7"><span class="w">    </span><span class="c1">// Get devices</span>
</span><span data-line="8"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">devices_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">platform</span><span class="o">-&gt;</span><span class="n">list_devices</span><span class="p">();</span>
</span><span data-line="9"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">devices_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">()</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">devices_result</span><span class="p">.</span><span class="n">value</span><span class="p">().</span><span class="n">empty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="10"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;No cameras found</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="11"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span data-line="12"><span class="w">    </span><span class="p">}</span>
</span><span data-line="13"><span class="w">    </span>
</span><span data-line="14"><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">devices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">devices_result</span><span class="p">.</span><span class="n">value</span><span class="p">();</span>
</span><span data-line="15"><span class="w">    </span>
</span><span data-line="16"><span class="w">    </span><span class="c1">// Create connection to first device</span>
</span><span data-line="17"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">connection_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">platform</span><span class="o">-&gt;</span><span class="n">create_connection</span><span class="p">(</span><span class="n">devices</span><span class="p">);</span>
</span><span data-line="18"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">connection_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="19"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Failed to connect: &quot;</span><span class="w"> </span>
</span><span data-line="20"><span class="w">                  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">connection_result</span><span class="p">.</span><span class="n">error</span><span class="p">().</span><span class="n">description</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="21"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span data-line="22"><span class="w">    </span><span class="p">}</span>
</span><span data-line="23"><span class="w">    </span>
</span><span data-line="24"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">connection_result</span><span class="p">.</span><span class="n">value</span><span class="p">());</span>
</span><span data-line="25"><span class="w">    </span>
</span><span data-line="26"><span class="w">    </span><span class="c1">// Get brightness</span>
</span><span data-line="27"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">brightness_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="o">-&gt;</span><span class="n">get_video_property</span><span class="p">(</span><span class="n">duvc</span><span class="o">::</span><span class="n">VidProp</span><span class="o">::</span><span class="n">Brightness</span><span class="p">);</span>
</span><span data-line="28"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">brightness_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="29"><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">brightness_result</span><span class="p">.</span><span class="n">value</span><span class="p">();</span>
</span><span data-line="30"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Brightness: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">setting</span><span class="p">.</span><span class="n">value</span><span class="w"> </span>
</span><span data-line="31"><span class="w">                  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; (mode: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">setting</span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">CamMode</span><span class="o">::</span><span class="n">Auto</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;auto&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;manual&quot;</span><span class="p">)</span><span class="w"> </span>
</span><span data-line="32"><span class="w">                  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="33"><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="34"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Error reading brightness: &quot;</span><span class="w"> </span>
</span><span data-line="35"><span class="w">                  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">brightness_result</span><span class="p">.</span><span class="n">error</span><span class="p">().</span><span class="n">description</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="36"><span class="w">    </span><span class="p">}</span>
</span><span data-line="37"><span class="w">    </span>
</span><span data-line="38"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span data-line="39"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="set-property-with-range-validation">
<h3>Set property with range validation<a class="headerlink" href="#set-property-with-range-validation" title="Link to this heading">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/duvc.hpp&gt;</span>
</span><span data-line="2"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
</span><span data-line="3">
</span><span data-line="4"><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">create_platform_interface</span><span class="p">();</span>
</span><span data-line="6"><span class="w">    </span>
</span><span data-line="7"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">devices_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">platform</span><span class="o">-&gt;</span><span class="n">list_devices</span><span class="p">();</span>
</span><span data-line="8"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">devices_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">()</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">devices_result</span><span class="p">.</span><span class="n">value</span><span class="p">().</span><span class="n">empty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="9"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span data-line="10"><span class="w">    </span><span class="p">}</span>
</span><span data-line="11"><span class="w">    </span>
</span><span data-line="12"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">connection_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">platform</span><span class="o">-&gt;</span><span class="n">create_connection</span><span class="p">(</span><span class="n">devices_result</span><span class="p">.</span><span class="n">value</span><span class="p">());</span>
</span><span data-line="13"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">connection_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="14"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span data-line="15"><span class="w">    </span><span class="p">}</span>
</span><span data-line="16"><span class="w">    </span>
</span><span data-line="17"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">connection_result</span><span class="p">.</span><span class="n">value</span><span class="p">());</span>
</span><span data-line="18"><span class="w">    </span>
</span><span data-line="19"><span class="w">    </span><span class="c1">// Query range before setting</span>
</span><span data-line="20"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">range_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="o">-&gt;</span><span class="n">get_camera_property_range</span><span class="p">(</span><span class="n">duvc</span><span class="o">::</span><span class="n">CamProp</span><span class="o">::</span><span class="n">Pan</span><span class="p">);</span>
</span><span data-line="21"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">range_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="22"><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">range_result</span><span class="p">.</span><span class="n">value</span><span class="p">();</span>
</span><span data-line="23"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Pan range: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">range</span><span class="p">.</span><span class="n">min</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; to &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">range</span><span class="p">.</span><span class="n">max</span><span class="w"> </span>
</span><span data-line="24"><span class="w">                  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; (step: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">range</span><span class="p">.</span><span class="n">step</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="25"><span class="w">        </span>
</span><span data-line="26"><span class="w">        </span><span class="c1">// Clamp value to valid range</span>
</span><span data-line="27"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">target_pan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="p">;</span>
</span><span data-line="28"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">clamped</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">range</span><span class="p">.</span><span class="n">clamp</span><span class="p">(</span><span class="n">target_pan</span><span class="p">);</span>
</span><span data-line="29"><span class="w">        </span>
</span><span data-line="30"><span class="w">        </span><span class="c1">// Set property</span>
</span><span data-line="31"><span class="w">        </span><span class="n">duvc</span><span class="o">::</span><span class="n">PropSetting</span><span class="w"> </span><span class="n">setting</span><span class="p">{</span><span class="n">clamped</span><span class="p">,</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">CamMode</span><span class="o">::</span><span class="n">Manual</span><span class="p">};</span>
</span><span data-line="32"><span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">set_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="o">-&gt;</span><span class="n">set_camera_property</span><span class="p">(</span><span class="n">duvc</span><span class="o">::</span><span class="n">CamProp</span><span class="o">::</span><span class="n">Pan</span><span class="p">,</span><span class="w"> </span><span class="n">setting</span><span class="p">);</span>
</span><span data-line="33"><span class="w">        </span>
</span><span data-line="34"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">set_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="35"><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Pan set to &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clamped</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="36"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="37"><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Failed: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">set_result</span><span class="p">.</span><span class="n">error</span><span class="p">().</span><span class="n">description</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="38"><span class="w">        </span><span class="p">}</span>
</span><span data-line="39"><span class="w">    </span><span class="p">}</span>
</span><span data-line="40"><span class="w">    </span>
</span><span data-line="41"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span data-line="42"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="error-handling">
<h3>Error handling<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/duvc.hpp&gt;</span>
</span><span data-line="2"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
</span><span data-line="3">
</span><span data-line="4"><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">create_platform_interface</span><span class="p">();</span>
</span><span data-line="6"><span class="w">    </span>
</span><span data-line="7"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">devices_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">platform</span><span class="o">-&gt;</span><span class="n">list_devices</span><span class="p">();</span>
</span><span data-line="8"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">devices_result</span><span class="p">.</span><span class="n">is_error</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="9"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Error: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">devices_result</span><span class="p">.</span><span class="n">error</span><span class="p">().</span><span class="n">description</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="10"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span data-line="11"><span class="w">    </span><span class="p">}</span>
</span><span data-line="12"><span class="w">    </span>
</span><span data-line="13"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">devices_result</span><span class="p">.</span><span class="n">value</span><span class="p">().</span><span class="n">empty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="14"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;No devices found</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="15"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span data-line="16"><span class="w">    </span><span class="p">}</span>
</span><span data-line="17"><span class="w">    </span>
</span><span data-line="18"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">connection_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">platform</span><span class="o">-&gt;</span><span class="n">create_connection</span><span class="p">(</span><span class="n">devices_result</span><span class="p">.</span><span class="n">value</span><span class="p">());</span>
</span><span data-line="19"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">connection_result</span><span class="p">.</span><span class="n">is_error</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="20"><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection_result</span><span class="p">.</span><span class="n">error</span><span class="p">();</span>
</span><span data-line="21"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Connection failed: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">description</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="22"><span class="w">        </span>
</span><span data-line="23"><span class="w">        </span><span class="c1">// Handle specific errors</span>
</span><span data-line="24"><span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">.</span><span class="n">code</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="25"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">duvc</span><span class="o">::</span><span class="no">ErrorCode</span><span class="o">::</span><span class="no">DeviceNotFound</span><span class="p">:</span>
</span><span data-line="26"><span class="w">                </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Camera disconnected</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="27"><span class="w">                </span><span class="k">break</span><span class="p">;</span>
</span><span data-line="28"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">duvc</span><span class="o">::</span><span class="no">ErrorCode</span><span class="o">::</span><span class="no">DeviceBusy</span><span class="p">:</span>
</span><span data-line="29"><span class="w">                </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Camera in use by another application</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="30"><span class="w">                </span><span class="k">break</span><span class="p">;</span>
</span><span data-line="31"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">duvc</span><span class="o">::</span><span class="no">ErrorCode</span><span class="o">::</span><span class="no">PermissionDenied</span><span class="p">:</span>
</span><span data-line="32"><span class="w">                </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Check camera permissions in Windows settings</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="33"><span class="w">                </span><span class="k">break</span><span class="p">;</span>
</span><span data-line="34"><span class="w">            </span><span class="k">default</span><span class="o">:</span>
</span><span data-line="35"><span class="w">                </span><span class="k">break</span><span class="p">;</span>
</span><span data-line="36"><span class="w">        </span><span class="p">}</span>
</span><span data-line="37"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span data-line="38"><span class="w">    </span><span class="p">}</span>
</span><span data-line="39"><span class="w">    </span>
</span><span data-line="40"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">connection_result</span><span class="p">.</span><span class="n">value</span><span class="p">());</span>
</span><span data-line="41"><span class="w">    </span>
</span><span data-line="42"><span class="w">    </span><span class="c1">// Attempt property operation</span>
</span><span data-line="43"><span class="w">    </span><span class="n">duvc</span><span class="o">::</span><span class="n">PropSetting</span><span class="w"> </span><span class="n">setting</span><span class="p">{</span><span class="mi">-5</span><span class="p">,</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">CamMode</span><span class="o">::</span><span class="n">Manual</span><span class="p">};</span>
</span><span data-line="44"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="o">-&gt;</span><span class="n">set_camera_property</span><span class="p">(</span><span class="n">duvc</span><span class="o">::</span><span class="n">CamProp</span><span class="o">::</span><span class="n">Exposure</span><span class="p">,</span><span class="w"> </span><span class="n">setting</span><span class="p">);</span>
</span><span data-line="45"><span class="w">    </span>
</span><span data-line="46"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">is_error</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="47"><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">error</span><span class="p">();</span>
</span><span data-line="48"><span class="w">        </span>
</span><span data-line="49"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">.</span><span class="n">code</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">ErrorCode</span><span class="o">::</span><span class="n">PropertyNotSupported</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="50"><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Exposure not supported on this camera</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="51"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">.</span><span class="n">code</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">ErrorCode</span><span class="o">::</span><span class="n">InvalidValue</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="52"><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Value out of range</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="53"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="54"><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Error: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">description</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="55"><span class="w">        </span><span class="p">}</span>
</span><span data-line="56"><span class="w">    </span><span class="p">}</span>
</span><span data-line="57"><span class="w">    </span>
</span><span data-line="58"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span data-line="59"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="check-device-capabilities">
<h3>Check device capabilities<a class="headerlink" href="#check-device-capabilities" title="Link to this heading">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/duvc.hpp&gt;</span>
</span><span data-line="2"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;duvc-ctl/core/capability.h&gt;</span>
</span><span data-line="3"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
</span><span data-line="4">
</span><span data-line="5"><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="6"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">duvc</span><span class="o">::</span><span class="n">create_platform_interface</span><span class="p">();</span>
</span><span data-line="7"><span class="w">    </span>
</span><span data-line="8"><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">devices_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">platform</span><span class="o">-&gt;</span><span class="n">list_devices</span><span class="p">();</span>
</span><span data-line="9"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">devices_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">()</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">devices_result</span><span class="p">.</span><span class="n">value</span><span class="p">().</span><span class="n">empty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="10"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span data-line="11"><span class="w">    </span><span class="p">}</span>
</span><span data-line="12"><span class="w">    </span>
</span><span data-line="13"><span class="w">    </span><span class="c1">// Create capabilities object</span>
</span><span data-line="14"><span class="w">    </span><span class="n">duvc</span><span class="o">::</span><span class="n">DeviceCapabilities</span><span class="w"> </span><span class="n">caps</span><span class="p">(</span><span class="n">devices_result</span><span class="p">.</span><span class="n">value</span><span class="p">());</span>
</span><span data-line="15"><span class="w">    </span>
</span><span data-line="16"><span class="w">    </span><span class="c1">// Check camera properties</span>
</span><span data-line="17"><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Supported camera properties:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="18"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">caps</span><span class="p">.</span><span class="n">supported_camera_properties</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="19"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  - &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="20"><span class="w">    </span><span class="p">}</span>
</span><span data-line="21"><span class="w">    </span>
</span><span data-line="22"><span class="w">    </span><span class="c1">// Check video properties</span>
</span><span data-line="23"><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Supported video properties:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="24"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">caps</span><span class="p">.</span><span class="n">supported_video_properties</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="25"><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  - &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="26"><span class="w">    </span><span class="p">}</span>
</span><span data-line="27"><span class="w">    </span>
</span><span data-line="28"><span class="w">    </span><span class="c1">// Check specific property</span>
</span><span data-line="29"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">caps</span><span class="p">.</span><span class="n">supports_camera_property</span><span class="p">(</span><span class="n">duvc</span><span class="o">::</span><span class="n">CamProp</span><span class="o">::</span><span class="n">Pan</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="30"><span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">cap_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">caps</span><span class="p">.</span><span class="n">get_camera_capability</span><span class="p">(</span><span class="n">duvc</span><span class="o">::</span><span class="n">CamProp</span><span class="o">::</span><span class="n">Pan</span><span class="p">);</span>
</span><span data-line="31"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cap_result</span><span class="p">.</span><span class="n">is_ok</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="32"><span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cap_result</span><span class="p">.</span><span class="n">value</span><span class="p">();</span>
</span><span data-line="33"><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Pan capability:</span><span class="se">\n</span><span class="s">&quot;</span>
</span><span data-line="34"><span class="w">                      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  Range: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">cap</span><span class="p">.</span><span class="n">range</span><span class="p">.</span><span class="n">min</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; to &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">cap</span><span class="p">.</span><span class="n">range</span><span class="p">.</span><span class="n">max</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
</span><span data-line="35"><span class="w">                      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  Step: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">cap</span><span class="p">.</span><span class="n">range</span><span class="p">.</span><span class="n">step</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
</span><span data-line="36"><span class="w">                      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  Default: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">cap</span><span class="p">.</span><span class="n">range</span><span class="p">.</span><span class="n">default_val</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
</span><span data-line="37"><span class="w">                      </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  Auto mode: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">cap</span><span class="p">.</span><span class="n">supports_auto</span><span class="p">()</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;yes&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;no&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span data-line="38"><span class="w">        </span><span class="p">}</span>
</span><span data-line="39"><span class="w">    </span><span class="p">}</span>
</span><span data-line="40"><span class="w">    </span>
</span><span data-line="41"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span data-line="42"><span class="p">}</span>
</span></pre></div>
</div>
<p><strong>Next:</strong> See Section 2 for complete API reference.</p>
</section>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="../index.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">duvc-ctl C++ API Documentation</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="02_core-api-public-headers.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">2. Core API - Public Headers</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2025, allanhanan</p>
  
  <p>
    Made with
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/allanhanan/duvc-ctl" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../../../_static/documentation_options.js?v=51b770b3"></script>
      <script src="../../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=5375a926"></script>
      <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../../../_static/shibuya.js?v=c1cf1a6b"></script></body>
</html>