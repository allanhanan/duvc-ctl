<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.10.0" xml:lang="en-US">
  <compounddef id="device__monitor_8cpp" kind="file" language="C++">
    <compoundname>device_monitor.cpp</compoundname>
    <includes local="no">dbt.h</includes>
    <includes local="no">dshow.h</includes>
    <includes refid="device_8h" local="no">duvc-ctl/core/device.h</includes>
    <includes local="no">duvc-ctl/detail/com_helpers.h</includes>
    <includes refid="logging_8h" local="no">duvc-ctl/utils/logging.h</includes>
    <includes local="no">windows.h</includes>
    <incdepgraph>
      <node id="4">
        <label>duvc-ctl/core/device.h</label>
        <link refid="device_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>duvc-ctl/core/types.h</label>
        <link refid="types_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>duvc-ctl/utils/logging.h</label>
        <link refid="logging_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>platform/windows/device_monitor.cpp</label>
        <link refid="device__monitor_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>dbt.h</label>
      </node>
      <node id="3">
        <label>dshow.h</label>
      </node>
      <node id="9">
        <label>duvc-ctl/detail/com_helpers.h</label>
      </node>
      <node id="7">
        <label>functional</label>
      </node>
      <node id="6">
        <label>string</label>
      </node>
      <node id="8">
        <label>vector</label>
      </node>
      <node id="11">
        <label>windows.h</label>
      </node>
    </incdepgraph>
    <innernamespace refid="namespaceduvc">duvc</innernamespace>
    <briefdescription>
<para>Windows device hotplug detection implementation. </para>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_WIN32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;dbt.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;dshow.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="device_8h" kindref="compound">duvc-ctl/core/device.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;duvc-ctl/detail/com_helpers.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="logging_8h" kindref="compound">duvc-ctl/utils/logging.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;windows.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceduvc" kindref="compound">duvc</ref><sp/>{</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Global<sp/>state<sp/>for<sp/>device<sp/>monitoring<sp/>(declared<sp/>in<sp/>device.h)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/><ref refid="namespaceduvc_1ac3f065ee856153757a4b8672b6a192d2" kindref="member">DeviceChangeCallback</ref><sp/><ref refid="namespaceduvc_1a1898d7edc188edc01290e8559f4bfd29" kindref="member">g_device_callback</ref>;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/>HWND<sp/><ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref>;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/>HDEVNOTIFY<sp/><ref refid="namespaceduvc_1a9fc95a638a982cfdcbdcb4806dc8e6e8" kindref="member">g_device_notify</ref>;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="namespaceduvc_1ac753d705f1b0eeb62869e0b7528c4876" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classduvc_1_1Result" kindref="compound">LRESULT</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">CALLBACK</ref><sp/><ref refid="namespaceduvc_1ac753d705f1b0eeb62869e0b7528c4876" kindref="member">device_notification_wndproc</ref>(<ref refid="classduvc_1_1Result" kindref="compound">HWND</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">hwnd</ref>,<sp/><ref refid="classduvc_1_1Result" kindref="compound">UINT</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">msg</ref>,</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">WPARAM</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">wParam</ref>,</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">LPARAM</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">lParam</ref>)<sp/>{</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classduvc_1_1Result" kindref="compound">msg</ref><sp/>==<sp/><ref refid="classduvc_1_1Result" kindref="compound">WM_DEVICECHANGE</ref><sp/>&amp;&amp;<sp/><ref refid="namespaceduvc_1a1898d7edc188edc01290e8559f4bfd29" kindref="member">g_device_callback</ref>)<sp/>{</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="api_8h_1afb89565f012a56933ec6a59ca2141a1c" kindref="member">DUVC_LOG_DEBUG</ref>(</highlight><highlight class="stringliteral">&quot;Received<sp/>device<sp/>change<sp/>notification&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classduvc_1_1Result" kindref="compound">wParam</ref><sp/>==<sp/><ref refid="classduvc_1_1Result" kindref="compound">DBT_DEVICEARRIVAL</ref><sp/>||<sp/><ref refid="classduvc_1_1Result" kindref="compound">wParam</ref><sp/>==<sp/><ref refid="classduvc_1_1Result" kindref="compound">DBT_DEVICEREMOVECOMPLETE</ref>)<sp/>{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">PDEV_BROADCAST_HDR</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">hdr</ref><sp/>=<sp/></highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="normal"><ref refid="classduvc_1_1Result" kindref="compound">PDEV_BROADCAST_HDR</ref></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="classduvc_1_1Result" kindref="compound">lParam</ref>);</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classduvc_1_1Result" kindref="compound">hdr</ref><sp/>&amp;&amp;<sp/><ref refid="classduvc_1_1Result" kindref="compound">hdr</ref>-&gt;dbch_devicetype<sp/>==<sp/><ref refid="classduvc_1_1Result" kindref="compound">DBT_DEVTYP_DEVICEINTERFACE</ref>)<sp/>{</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">PDEV_BROADCAST_DEVICEINTERFACE</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">dev_iface</ref><sp/>=</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="normal"><ref refid="classduvc_1_1Result" kindref="compound">PDEV_BROADCAST_DEVICEINTERFACE</ref></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="classduvc_1_1Result" kindref="compound">lParam</ref>);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classduvc_1_1Result" kindref="compound">device_added</ref><sp/>=<sp/>(<ref refid="classduvc_1_1Result" kindref="compound">wParam</ref><sp/>==<sp/><ref refid="classduvc_1_1Result" kindref="compound">DBT_DEVICEARRIVAL</ref>);</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::wstring<sp/><ref refid="classduvc_1_1Result" kindref="compound">device_path</ref><sp/>=<sp/><ref refid="classduvc_1_1Result" kindref="compound">dev_iface</ref>-&gt;dbcc_name;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8h_1ace03d66fa6631756678e5afec15a1b87" kindref="member">DUVC_LOG_INFO</ref>(std::string(</highlight><highlight class="stringliteral">&quot;Device<sp/>&quot;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="classduvc_1_1Result" kindref="compound">device_added</ref><sp/>?<sp/></highlight><highlight class="stringliteral">&quot;added:<sp/>&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;removed:<sp/>&quot;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string(<ref refid="classduvc_1_1Result" kindref="compound">device_path</ref>.begin(),<sp/><ref refid="classduvc_1_1Result" kindref="compound">device_path</ref>.end()));</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Call<sp/>user<sp/>callback</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceduvc_1a1898d7edc188edc01290e8559f4bfd29" kindref="member">g_device_callback</ref>(<ref refid="classduvc_1_1Result" kindref="compound">device_added</ref>,<sp/><ref refid="classduvc_1_1Result" kindref="compound">device_path</ref>);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::exception<sp/>&amp;<ref refid="classduvc_1_1Result" kindref="compound">e</ref>)<sp/>{</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8h_1a706c3c143887f191b1d8f23cd5c62a2b" kindref="member">DUVC_LOG_ERROR</ref>(</highlight><highlight class="stringliteral">&quot;Exception<sp/>in<sp/>device<sp/>change<sp/>callback:<sp/>&quot;</highlight><highlight class="normal"><sp/>+</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string(<ref refid="classduvc_1_1Result" kindref="compound">e</ref>.what()));</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(...)<sp/>{</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8h_1a706c3c143887f191b1d8f23cd5c62a2b" kindref="member">DUVC_LOG_ERROR</ref>(</highlight><highlight class="stringliteral">&quot;Unknown<sp/>exception<sp/>in<sp/>device<sp/>change<sp/>callback&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classduvc_1_1Result" kindref="compound">DefWindowProc</ref>(<ref refid="classduvc_1_1Result" kindref="compound">hwnd</ref>,<sp/><ref refid="classduvc_1_1Result" kindref="compound">msg</ref>,<sp/><ref refid="classduvc_1_1Result" kindref="compound">wParam</ref>,<sp/><ref refid="classduvc_1_1Result" kindref="compound">lParam</ref>);</highlight></codeline>
<codeline lineno="64"><highlight class="normal">}</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="namespaceduvc_1aeb2a8092f10ef646423ec7cae410beb3" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="namespaceduvc_1aeb2a8092f10ef646423ec7cae410beb3" kindref="member">register_notification_window_class</ref>()<sp/>{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">WNDCLASSW</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">wc</ref><sp/>=<sp/>{};</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">wc</ref>.lpfnWndProc<sp/>=<sp/><ref refid="namespaceduvc_1ac753d705f1b0eeb62869e0b7528c4876" kindref="member">device_notification_wndproc</ref>;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">wc</ref>.hInstance<sp/>=<sp/><ref refid="classduvc_1_1Result" kindref="compound">GetModuleHandle</ref>(</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">wc</ref>.lpszClassName<sp/>=<sp/><ref refid="classduvc_1_1Result" kindref="compound">L</ref></highlight><highlight class="stringliteral">&quot;DuvcDeviceNotificationWindow&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">ATOM</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">result</ref><sp/>=<sp/><ref refid="classduvc_1_1Result" kindref="compound">RegisterClassW</ref>(&amp;<ref refid="classduvc_1_1Result" kindref="compound">wc</ref>);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classduvc_1_1Result" kindref="compound">result</ref><sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">DWORD</ref><sp/>error<sp/>=<sp/><ref refid="classduvc_1_1Result" kindref="compound">GetLastError</ref>();</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(error<sp/>!=<sp/><ref refid="classduvc_1_1Result" kindref="compound">ERROR_CLASS_ALREADY_EXISTS</ref>)<sp/>{</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8h_1a706c3c143887f191b1d8f23cd5c62a2b" kindref="member">DUVC_LOG_ERROR</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>window<sp/>class:<sp/>&quot;</highlight><highlight class="normal"><sp/>+</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::to_string(error));</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="87"><highlight class="normal">}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="93" refid="namespaceduvc_1a5a25a59616a173f86741ba27d587a85e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classduvc_1_1Result" kindref="compound">HWND</ref><sp/><ref refid="namespaceduvc_1a5a25a59616a173f86741ba27d587a85e" kindref="member">create_notification_window</ref>()<sp/>{</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespaceduvc_1aeb2a8092f10ef646423ec7cae410beb3" kindref="member">register_notification_window_class</ref>())<sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">HWND</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">hwnd</ref><sp/>=<sp/><ref refid="classduvc_1_1Result" kindref="compound">CreateWindowW</ref>(<ref refid="classduvc_1_1Result" kindref="compound">L</ref></highlight><highlight class="stringliteral">&quot;DuvcDeviceNotificationWindow&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="comment">//<sp/>Class<sp/>name</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">L</ref></highlight><highlight class="stringliteral">&quot;duvc-ctl<sp/>Device<sp/>Monitor&quot;</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Window<sp/>title</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Style</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/>0,<sp/>0,<sp/>0,<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Position<sp/>and<sp/>size<sp/>(hidden)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">HWND_MESSAGE</ref>,<sp/></highlight><highlight class="comment">//<sp/>Message-only<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Menu</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">GetModuleHandle</ref>(</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">),<sp/></highlight><highlight class="comment">//<sp/>Instance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Creation<sp/>parameter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classduvc_1_1Result" kindref="compound">hwnd</ref>)<sp/>{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="api_8h_1a706c3c143887f191b1d8f23cd5c62a2b" kindref="member">DUVC_LOG_ERROR</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>create<sp/>notification<sp/>window:<sp/>&quot;</highlight><highlight class="normal"><sp/>+</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::to_string(<ref refid="classduvc_1_1Result" kindref="compound">GetLastError</ref>()));</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classduvc_1_1Result" kindref="compound">hwnd</ref>;</highlight></codeline>
<codeline lineno="114"><highlight class="normal">}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="121" refid="namespaceduvc_1ad18e7fc0b2f1fbefba836a42263e787c" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classduvc_1_1Result" kindref="compound">HDEVNOTIFY</ref><sp/><ref refid="namespaceduvc_1ad18e7fc0b2f1fbefba836a42263e787c" kindref="member">register_device_notifications</ref>(<ref refid="classduvc_1_1Result" kindref="compound">HWND</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">hwnd</ref>)<sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Register<sp/>for<sp/>video<sp/>input<sp/>device<sp/>interface<sp/>notifications</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">DEV_BROADCAST_DEVICEINTERFACE</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">notification_filter</ref><sp/>=<sp/>{};</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">notification_filter</ref>.dbcc_size<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="classduvc_1_1Result" kindref="compound">notification_filter</ref>);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">notification_filter</ref>.dbcc_devicetype<sp/>=<sp/><ref refid="classduvc_1_1Result" kindref="compound">DBT_DEVTYP_DEVICEINTERFACE</ref>;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">notification_filter</ref>.dbcc_classguid<sp/>=<sp/><ref refid="device_8cpp_1aedbd74ed6727389e3d2b255c6ba63cf7" kindref="member">CLSID_VideoInputDeviceCategory</ref>;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">HDEVNOTIFY</ref><sp/><ref refid="classduvc_1_1Result" kindref="compound">handle</ref><sp/>=<sp/><ref refid="classduvc_1_1Result" kindref="compound">RegisterDeviceNotification</ref>(<ref refid="classduvc_1_1Result" kindref="compound">hwnd</ref>,<sp/>&amp;<ref refid="classduvc_1_1Result" kindref="compound">notification_filter</ref>,</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classduvc_1_1Result" kindref="compound">DEVICE_NOTIFY_WINDOW_HANDLE</ref>);</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classduvc_1_1Result" kindref="compound">handle</ref>)<sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="api_8h_1a706c3c143887f191b1d8f23cd5c62a2b" kindref="member">DUVC_LOG_ERROR</ref>(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>device<sp/>notifications:<sp/>&quot;</highlight><highlight class="normal"><sp/>+</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::to_string(<ref refid="classduvc_1_1Result" kindref="compound">GetLastError</ref>()));</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="api_8h_1ace03d66fa6631756678e5afec15a1b87" kindref="member">DUVC_LOG_INFO</ref>(</highlight><highlight class="stringliteral">&quot;Successfully<sp/>registered<sp/>for<sp/>device<sp/>notifications&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classduvc_1_1Result" kindref="compound">handle</ref>;</highlight></codeline>
<codeline lineno="139"><highlight class="normal">}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="namespaceduvc_1abbb674b206dc193c2a1b127cb413a12f" kindref="member">register_device_change_callback</ref>(<ref refid="namespaceduvc_1ac3f065ee856153757a4b8672b6a192d2" kindref="member">DeviceChangeCallback</ref><sp/>callback)<sp/>{</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Don&apos;t<sp/>register<sp/>multiple<sp/>times</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref>)<sp/>{</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="api_8h_1a86a40c6df6776ad27d30090b6e45a299" kindref="member">DUVC_LOG_WARNING</ref>(</highlight><highlight class="stringliteral">&quot;Device<sp/>change<sp/>callback<sp/>already<sp/>registered&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><ref refid="namespaceduvc_1a1898d7edc188edc01290e8559f4bfd29" kindref="member">g_device_callback</ref><sp/>=<sp/>callback;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>invisible<sp/>window<sp/>for<sp/>receiving<sp/>notifications</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref><sp/>=<sp/><ref refid="namespaceduvc_1a5a25a59616a173f86741ba27d587a85e" kindref="member">create_notification_window</ref>();</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref>)<sp/>{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceduvc_1a1898d7edc188edc01290e8559f4bfd29" kindref="member">g_device_callback</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Register<sp/>for<sp/>device<sp/>interface<sp/>notifications</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><ref refid="namespaceduvc_1a9fc95a638a982cfdcbdcb4806dc8e6e8" kindref="member">g_device_notify</ref><sp/>=<sp/><ref refid="namespaceduvc_1ad18e7fc0b2f1fbefba836a42263e787c" kindref="member">register_device_notifications</ref>(<ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref>);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespaceduvc_1a9fc95a638a982cfdcbdcb4806dc8e6e8" kindref="member">g_device_notify</ref>)<sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>DestroyWindow(<ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref>);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceduvc_1a1898d7edc188edc01290e8559f4bfd29" kindref="member">g_device_callback</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><ref refid="api_8h_1ace03d66fa6631756678e5afec15a1b87" kindref="member">DUVC_LOG_INFO</ref>(</highlight><highlight class="stringliteral">&quot;Device<sp/>change<sp/>monitoring<sp/>started&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="167"><highlight class="normal">}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="namespaceduvc_1a2c8dcde95ee8de2b7eef20728f9274dc" kindref="member">unregister_device_change_callback</ref>()<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespaceduvc_1a9fc95a638a982cfdcbdcb4806dc8e6e8" kindref="member">g_device_notify</ref>)<sp/>{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>UnregisterDeviceNotification(<ref refid="namespaceduvc_1a9fc95a638a982cfdcbdcb4806dc8e6e8" kindref="member">g_device_notify</ref>);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceduvc_1a9fc95a638a982cfdcbdcb4806dc8e6e8" kindref="member">g_device_notify</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="api_8h_1afb89565f012a56933ec6a59ca2141a1c" kindref="member">DUVC_LOG_DEBUG</ref>(</highlight><highlight class="stringliteral">&quot;Unregistered<sp/>device<sp/>notifications&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref>)<sp/>{</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>DestroyWindow(<ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref>);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceduvc_1ae49657499e48d2be4bcd6ff45253d9c5" kindref="member">g_notification_window</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="api_8h_1afb89565f012a56933ec6a59ca2141a1c" kindref="member">DUVC_LOG_DEBUG</ref>(</highlight><highlight class="stringliteral">&quot;Destroyed<sp/>notification<sp/>window&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><ref refid="namespaceduvc_1a1898d7edc188edc01290e8559f4bfd29" kindref="member">g_device_callback</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><ref refid="api_8h_1ace03d66fa6631756678e5afec15a1b87" kindref="member">DUVC_LOG_INFO</ref>(</highlight><highlight class="stringliteral">&quot;Device<sp/>change<sp/>monitoring<sp/>stopped&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="184"><highlight class="normal">}</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>duvc</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">//<sp/>_WIN32</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="platform/windows/device_monitor.cpp"/>
  </compounddef>
</doxygen>
