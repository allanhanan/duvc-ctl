C++ API Reference
=================

Complete C++ API documentation generated automatically from source code using Doxygen.

.. note::
   **Requirements:** Windows 10+, Visual Studio 2019+ or GCC 8+, CMake 3.16+, C++17 support

Overview
--------

The duvc-ctl C++ API provides comprehensive UVC camera control through DirectShow on Windows. All documentation is generated directly from source code using Doxygen to ensure accuracy and up-to-date information.

Quick Start
-----------

Basic Usage Pattern

.. code-block:: cpp

   #include <duvc-ctl/duvc.hpp>
   
   int main() {
       auto devices = duvc::list_devices();
       if (!devices.empty()) {
           // Use first device
           auto device = devices[0];
           duvc::PropSetting brightness{150, duvc::CamMode::Manual};
           duvc::set(device, duvc::VidProp::Brightness, brightness);
       }
       return 0;
   }

CMake Integration

.. code-block:: cmake

   find_package(duvc-ctl 2.0 REQUIRED)
   target_link_libraries(your_app duvc::core)

Complete API Documentation
--------------------------

The complete C++ API documentation is generated by Doxygen and available here:

`View Full Doxygen Documentation <../../doxygen/html/index.html>`_

Core Components
--------------------------

.. doxygennamespace:: duvc
   :project: duvc-ctl
   :content-only:

Core Types and Structures
-------------------------

.. doxygenfile:: duvc-ctl/core/types.h
   :project: duvc-ctl

.. doxygenstruct:: duvc::Device
   :project: duvc-ctl
   :members:
   :undoc-members:

.. doxygenstruct:: duvc::PropSetting
   :project: duvc-ctl
   :members:
   :undoc-members:

.. doxygenstruct:: duvc::PropRange
   :project: duvc-ctl
   :members:
   :undoc-members:

Property Enumerations
---------------------

**Camera Control Properties**

.. doxygenenum:: duvc::CamProp
   :project: duvc-ctl

**Video Processing Properties**

.. doxygenenum:: duvc::VidProp
   :project: duvc-ctl

**Control Modes**

.. doxygenenum:: duvc::CamMode
   :project: duvc-ctl

Device Management Functions
---------------------------

.. doxygenfile:: duvc-ctl/core/device.h
   :project: duvc-ctl

.. doxygenfunction:: duvc::list_devices
   :project: duvc-ctl

.. doxygenfunction:: duvc::is_device_connected
   :project: duvc-ctl

Property Control Functions
--------------------------

**Camera Properties**

.. doxygenfunction:: duvc::get(const Device&, CamProp, PropSetting&)
   :project: duvc-ctl

.. doxygenfunction:: duvc::set(const Device&, CamProp, const PropSetting&)
   :project: duvc-ctl

.. doxygenfunction:: duvc::get_range(const Device&, CamProp, PropRange&)
   :project: duvc-ctl

**Video Properties**

.. doxygenfunction:: duvc::get(const Device&, VidProp, PropSetting&)
   :project: duvc-ctl

.. doxygenfunction:: duvc::set(const Device&, VidProp, const PropSetting&)
   :project: duvc-ctl

.. doxygenfunction:: duvc::get_range(const Device&, VidProp, PropRange&)
   :project: duvc-ctl

High-Performance Classes
------------------------

**Device Connection Pool**

.. doxygenfile:: duvc-ctl/platform/windows/connection_pool.h
   :project: duvc-ctl

.. doxygenclass:: duvc::DeviceConnection
   :project: duvc-ctl
   :members:
   :protected-members:

**Platform Interface**

.. doxygenfile:: duvc-ctl/platform/interface.h
   :project: duvc-ctl

.. doxygenclass:: duvc::IPlatformInterface
   :project: duvc-ctl
   :members:

.. doxygenclass:: duvc::IDeviceConnection
   :project: duvc-ctl
   :members:

.. doxygenfunction:: duvc::create_platform_interface
   :project: duvc-ctl

Vendor Extensions
-----------------

**Logitech Camera Support**

.. doxygenfile:: duvc-ctl/vendor/logitech.h
   :project: duvc-ctl

.. doxygennamespace:: duvc::logitech
   :project: duvc-ctl
   :content-only:

.. doxygenenum:: duvc::logitech::LogitechProperty
   :project: duvc-ctl

.. doxygenfunction:: duvc::logitech::get_logitech_property
   :project: duvc-ctl

.. doxygenfunction:: duvc::logitech::set_logitech_property
   :project: duvc-ctl

.. doxygenfunction:: duvc::logitech::supports_logitech_properties
   :project: duvc-ctl

**Low-Level Vendor Property Access**

.. doxygenfile:: duvc-ctl/platform/windows/ks_properties.h
   :project: duvc-ctl

.. doxygenclass:: duvc::KsPropertySet
   :project: duvc-ctl
   :members:
   :protected-members:

**Generic Vendor Properties**

.. doxygenfile:: duvc-ctl/vendor/constants.h
   :project: duvc-ctl

.. doxygenstruct:: duvc::VendorProperty
   :project: duvc-ctl
   :members:

.. doxygenfunction:: duvc::get_vendor_property
   :project: duvc-ctl

.. doxygenfunction:: duvc::set_vendor_property
   :project: duvc-ctl

.. doxygenfunction:: duvc::query_vendor_property_support
   :project: duvc-ctl

Utility Functions
-----------------

**String Conversion**

.. doxygenfile:: duvc-ctl/utils/string_conversion.h
   :project: duvc-ctl

.. doxygenfunction:: duvc::to_string(CamProp)
   :project: duvc-ctl

.. doxygenfunction:: duvc::to_string(VidProp)
   :project: duvc-ctl

.. doxygenfunction:: duvc::to_string(CamMode)
   :project: duvc-ctl

.. doxygenfunction:: duvc::to_wstring(CamProp)
   :project: duvc-ctl

.. doxygenfunction:: duvc::to_wstring(VidProp)
   :project: duvc-ctl

.. doxygenfunction:: duvc::to_wstring(CamMode)
   :project: duvc-ctl

**Logging Interface**

.. doxygenfile:: duvc-ctl/utils/logging.h
   :project: duvc-ctl

.. doxygenenum:: duvc::LogLevel
   :project: duvc-ctl

.. doxygentypedef:: duvc::LogCallback
   :project: duvc-ctl

.. doxygenfunction:: duvc::set_log_callback
   :project: duvc-ctl

.. doxygenfunction:: duvc::set_log_level
   :project: duvc-ctl

.. doxygenfunction:: duvc::get_log_level
   :project: duvc-ctl

.. doxygenfunction:: duvc::log_debug
   :project: duvc-ctl

.. doxygenfunction:: duvc::log_info
   :project: duvc-ctl

.. doxygenfunction:: duvc::log_warning
   :project: duvc-ctl

.. doxygenfunction:: duvc::log_error
   :project: duvc-ctl

.. doxygenfunction:: duvc::log_critical
   :project: duvc-ctl

**Error Handling and Diagnostics**

.. doxygenfile:: duvc-ctl/utils/error_decoder.h
   :project: duvc-ctl

.. doxygenfunction:: duvc::decode_system_error
   :project: duvc-ctl

.. doxygenfunction:: duvc::decode_hresult
   :project: duvc-ctl

.. doxygenfunction:: duvc::get_hresult_details
   :project: duvc-ctl

.. doxygenfunction:: duvc::is_device_error
   :project: duvc-ctl

.. doxygenfunction:: duvc::is_permission_error
   :project: duvc-ctl

.. doxygenfunction:: duvc::get_diagnostic_info
   :project: duvc-ctl

Advanced Features
=================

Result Types and Error Handling
--------------------------------

.. doxygenfile:: duvc-ctl/core/result.h
   :project: duvc-ctl

.. doxygenclass:: duvc::Result
   :project: duvc-ctl
   :members:

.. doxygenclass:: duvc::Error
   :project: duvc-ctl
   :members:

DirectShow Integration
----------------------

.. doxygenfile:: duvc-ctl/platform/windows/directshow.h
   :project: duvc-ctl

.. doxygenfunction:: duvc::create_dev_enum
   :project: duvc-ctl

.. doxygenfunction:: duvc::enum_video_devices
   :project: duvc-ctl

.. doxygenfunction:: duvc::read_friendly_name
   :project: duvc-ctl

.. doxygenfunction:: duvc::read_device_path
   :project: duvc-ctl

.. doxygenfunction:: duvc::is_same_device
   :project: duvc-ctl

.. doxygenfunction:: duvc::open_device_filter
   :project: duvc-ctl

Legacy Compatibility
=====================

**Legacy Headers**

.. doxygenfile:: duvc-ctl/legacy/core.h
   :project: duvc-ctl

.. doxygenfile:: duvc-ctl/legacy/defs.h
   :project: duvc-ctl

.. warning::

   Legacy headers are provided for backward compatibility and will be deprecated in v3.0.

   New code should use the modern API headers.

Building Documentation
======================

Prerequisites
-------------

.. code-block:: bash

   # Install Doxygen and Graphviz

   winget install doxygen.doxygen

   winget install graphviz

   # Install Sphinx dependencies

   pip install sphinx breathe furo myst-parser

Generate Doxygen XML
--------------------

.. code-block:: bash

   # Configure build with documentation

   cmake -B build -DDUVC_BUILD_DOCS=ON

   # Generate Doxygen XML output

   cmake --build build --target doxygen

   # XML files will be in: build/docs/doxygen/xml/

Build Sphinx Documentation
--------------------------

.. code-block:: bash

   # Build HTML documentation

   cd docs/sphinx

   make html

   # Open documentation

   start _build/html/index.html

Doxygen Configuration
--------------------

The project uses a `Doxyfile` with these key settings:

.. code-block:: text

   PROJECT_NAME = "duvc-ctl"

   PROJECT_VERSION = "2.0.0"

   OUTPUT_DIRECTORY = docs/doxygen

   INPUT = include/duvc-ctl

   RECURSIVE = YES

   GENERATE_XML = YES

   XML_OUTPUT = xml

   GENERATE_HTML = YES

   HTML_OUTPUT = html

   EXTRACT_ALL = YES

   EXTRACT_PRIVATE = NO

   EXTRACT_PACKAGE = NO

   EXTRACT_STATIC = YES

   HIDE_UNDOC_MEMBERS = NO

   HIDE_UNDOC_CLASSES = NO

   BRIEF_MEMBER_DESC = YES

   REPEAT_BRIEF = YES

   ALWAYS_DETAILED_SEC = NO

   INLINE_INHERITED_MEMB = NO

   FULL_PATH_NAMES = NO

   STRIP_FROM_PATH = include/

   TAB_SIZE = 4

   OPTIMIZE_OUTPUT_FOR_C = NO

   MARKDOWN_SUPPORT = YES

   TOC_INCLUDE_HEADINGS = 0

   AUTOLINK_SUPPORT = YES

   BUILTIN_STL_SUPPORT = YES

   CPP_CLI_SUPPORT = NO

   SIP_SUPPORT = NO

   IDL_PROPERTY_SUPPORT = YES

   DISTRIBUTE_GROUP_DOC = NO

   GROUP_NESTED_COMPOUNDS = NO

   SUBGROUPING = YES

   INLINE_GROUPED_CLASSES = NO

   INLINE_SIMPLE_STRUCTS = NO

Breathe Configuration
--------------------

The Sphinx `conf.py` includes:

.. code-block:: python

   # Breathe configuration for Doxygen integration

   extensions = [

   'breathe',

   'sphinx.ext.autodoc',

   'sphinx_design',

   'myst_parser'



   breathe_projects = {

   "duvc-ctl": "../doxygen/xml"



   breathe_default_project = "duvc-ctl"

   breathe_default_members = ('members', 'undoc-members')

Integration Examples
===================

Basic Property Control
----------------------

.. literalinclude:: ../../examples/cpp/basic_property_control.cpp

:language: cpp

:caption: examples/cpp/basic_property_control.cpp

High-Performance Operations
---------------------------

.. literalinclude:: ../../examples/cpp/device_connection_demo.cpp

:language: cpp

:caption: examples/cpp/device_connection_demo.cpp

Vendor Property Access
----------------------

.. literalinclude:: ../../examples/cpp/logitech_properties.cpp

:language: cpp

:caption: examples/cpp/logitech_properties.cpp

Error Handling
--------------

.. literalinclude:: ../../examples/cpp/error_handling_demo.cpp

:language: cpp

:caption: examples/cpp/error_handling_demo.cpp

See Also
========

- :doc:`../python/index` - Python API Reference

- :doc:`../c/index` - C API Reference

- :doc:`../../cli/index` - CLI Documentation

- :doc:`../../development/building` - Build Instructions

.. toctree::

   :hidden:

   :maxdepth: 1

   Full API Reference (Doxygen) <../../doxygen/html/index>

---

.. note::

   This documentation is automatically generated from source code using Doxygen.

   For the most up-to-date information, build the documentation locally or view

   the complete Doxygen output.

